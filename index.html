<!DOCTYPE html>
<html lang="en" class="loading">
<head>
<!--<meta name="google-site-verification" content="DNRe_ZC-CBHA2fSTpcq0pMwP20j5hBW97mbQPDhoLb0" />-->
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" >
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
<link rel="shortcut icon" href="favicon.ico" />
<title> loading... </title>
  <link rel="stylesheet" href="css/index.css">
<script src="https://cdn.jsdelivr.net/gh/SaltzmanAlaric/weekly@v1.0.8/lib/L2Dwidget.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/jquery/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/SaltzmanAlaric/weekly@v1.0.8/lib/jquery.bumpytext.packed.js"></script>
<script src="https://cdn.jsdelivr.net/gh/SaltzmanAlaric/weekly@v1.0.8/lib/easying.js"></script>

<script>
window.config = {
  organization: false,
  order: 'CREATED_AT',
  title: '一方通行',
  user: 'SaltzmanAlaric',
  repository: 'Mirror-blog',
  authors: 'SaltzmanAlaric',
  ignores: '1',
  host: '',
  hash: 'WTWUfeXEATcEPdACWEdXTEUEFUUOdFWEXdcfcFcE c2FsdHptYW5hbGFyaWMuZ2l0aHViLmlv',
  perpage: 10,
  aboutme: '#/posts/1',
  webSite: true,
  errorTitle: '恭喜达成404成就！',
  errorContent: '您访问的文章不存在哦，请认真核对网址。',
  comments: 'weekly',
  commentTitle: '留言',
  commentWrite: '我要发言',
  loadMore: '更多',
  listStyle: 'live type2',
  danmu: '<marquee scrollamount="10"><font color="#66CCFF">233&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<font size="3" color="#FF0000">前方高能</font></marquee><marquee scrollamount="6"><font size="2" color="#FF0000">第一</font>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;666</marquee><marquee scrollamount="8"><font ccolor="#006699">都是时辰的错</font>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<font  size="3" color="#EE0000">大哥喝阔落</font></marquee><marquee scrollamount="16"><font color="#006699">Wryyyyy</font>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;hhhhh</marquee><marquee scrollamount="14"><font color="#FF0000">战5渣</font>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;有人吗？？？</marquee><marquee scrollamount="12"><font size="3" color="#66CCFF">今天的风儿甚是喧嚣</font>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;666</marquee>',
};

console.log('%c ' + window.config.title + ' ' + window.config.user,
        'font:italic bold 60px/100px arial,sans-serif;color:rgb(59, 183, 223);border-radius:20px;background:#eee;');

var getParams = function(key){
  var params = window.location.search.split('?')[1];
  if (params) {
    var map = params.match("(^|&)" + key + "=([^&]*)");
    if (map) {
      return decodeURI(map[2]);
    }
  }
  return null;
};
var openLabels = function(url){
  var ele = document.getElementById("labels");
  if(!ele.innerHTML){
    fetch(url).then(function(res){
      if(res.ok){res.json().then(function(arr){
        var label_text = "";
        for(var i in arr){
          label_text += '<a href="?label=' + arr[i].name + '">#' + arr[i].name + '</a>';
        }
        ele.innerHTML = label_text;
        $('#labels > a').bumpyText();
      })}
    });
    window.config.labels = 1;
  } else {
    ele.style.display = window.config.labels === 1 ? "none" : "";
    window.config.labels = -window.config.labels;
  }
};
L2Dwidget.init({
  "model": {
    "jsonPath": "https://unpkg.com/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json",
    "scale": 1
  },
  "display": {
    "superSample": 2,
    "width": 200,
    "height": 400,
    "position": "right",
    "hOffset": 0,
    "vOffset": 0
  },
  "mobile": {
    "show": false,
    "scale": 0.5
  },
  "react": {
    "opacityDefault": 0.7,
    "opacityOnHover": 0.2
  },
  "dialog": {
    // 开启对话框
    enable: true,
    script: {
      // 每空闲 10 秒钟，显示一条一言
      'every idle 10s': '$hitokoto$',
      // 当触摸到星星图案
      'hover .sitev': '点击💎可以播放音乐哦 (*/ω＼*)',
      // 当触摸到角色身体
      'tap body': '欢迎来到一方通行的博客(*/ω＼*)',
      // 当触摸到角色头部
      'tap face': '你在想什么？'
    }
  }
});

// 返回上一页
var goBack = function () {
  if (document.referrer === '' || document.referrer.startsWith("https://")) {
  } else {
    window.history.go(-1);
  }
}

// 一年进度条
var timeBar = function() {
  var c = document.getElementById("timeProcess");//找到 <canvas> 元素:

  var ctx = c.getContext("2d");  //创建context对象
  var circ = Math.PI * 2;
  var quart = Math.PI / 2;
  var circ = Math.PI * 2;
  var quart = Math.PI / 2;
  var myCanvas_rect = c.getBoundingClientRect();
  var widths = myCanvas_rect.width;
  var heights = myCanvas_rect.height;

  $("#timeProcess").css({ left: (($("#user").width() - widths)/2+20)+"px"});
  // 清除画布
  ctx.clearRect(0,0,c.width,c.height);
  ctx.beginPath();
  ctx.strokeStyle = '#FF4500';
  ctx.lineCap = 'square';
  ctx.closePath();
  ctx.fill();
  ctx.lineWidth = 2.0;

  var imd = ctx.getImageData(0, 0, widths, heights);

  function draw(current) {
    ctx.putImageData(imd, 0, 0);
    ctx.beginPath();
    ctx.arc((widths<90? widths+26: widths)/2, (heights <90 ? heights+26: heights) /2, (heights <90 ? heights+24: heights)/2-2, -(quart), ((circ) * current) - quart, false);
    ctx.stroke();
  }
  //draw(0.6);
  var t = 0;
  var timer = null;

  function loadCanvas(now) {
    timer = setInterval(function () {
      if (t > now) {
        draw(now);//最后一次绘制
        clearInterval(timer);
      } else {
        draw(t);
        t += 0.01;
      }
    }, 20);
  }

  var now = new Date();
  var spendRate = (now.getTime() - new Date(now.getFullYear() + '-01-01 00:00:00').getTime()) / (new Date(now.getFullYear() + '-12-31 23:59:59').getTime() - new Date(now.getFullYear() + '-01-01 00:00:00').getTime());
  loadCanvas(spendRate);
  timer = null;
}
</script>

</head>
<body>
<div id="bar"></div>
<div class="page home">
  <div>
  <div id="user"></div>
  <div id="posts"></div>
  </div>
</div>
<div class="page single">
  <div>
  <div id="post"></div>
  <div id="comments"></div>
  </div>
</div>
<div id="loader"><div></div></div>
<audio id="audio" controls="controls" autoplay="autoplay" hidden="hidden"></audio>
<script src="https://cdn.jsdelivr.net/gh/SaltzmanAlaric/weekly@v1.0.8/lib/index.04eb6053.js"></script>
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="sitev"><div id="musicBtn">💎</div><span id="busuanzi_value_site_pv"></span>次/<span id="busuanzi_value_site_uv"></span>人</div>
<div class="kotori-show"><img src="https://cdn.jsdelivr.net/gh/SaltzmanAlaric/weekly@v1.0.8/static/images/kotori.png" alt="抢镜脸" title="返回上一级" href="#/" /></div>
<script src="js/index.js"></script>
</body>
</html>
